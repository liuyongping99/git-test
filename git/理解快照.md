
git做的事大致是這樣的:
~~~
----------
在創建Version 1時:

計算A B C的sha1, 然後在.git/object中, 創建以下文件 (即"快照")
- 文件名 sha1(A), 內容A
- 文件名 sha1(B), 內容B
- 文件名 sha1(C), 內容C

最後把這幾個sha1寫到一個新文件, 這個新文件就是Version 1.
----------
在創建Version 2時

計算A1 B C1的sha1, 然後發現sha1(B)這個文件名已經有了, 所以只需要再創建兩個文件:
- 文件名 sha1(A1), 內容A1
- 文件名 sha1(C1), 內容C1

最後把A1 B C1的sha1寫到新文件, 這個新文件就是Version 2
----------
以下略
~~~

## SNAPSHOT保存的是SHA1值
简单来说，（简化的结构，详细的慢慢补充）

- 当保存一个文件的时候，git 把这个文件的信息和这个文件的内容存储在一个文件里，然后求得这个文件的 sha1 作为文件名(sha1的前两位/sha1剩余部分,见.git/objects)。
- 保存一个目录，就是把目录信息，以及其中文件通过上述方式求得的 sha1 保存在一个文件里，同样求得这个文件的sha1 作为文件名。
一个提交就是，把提交的信息(比如父提交的sha1等)，以及此次提交所包含的目录/文件的上述方式求得的 sha1 放在一个文件里，然后把其 sha1 作为文件名。

- 当提取某次提交的时候，需要给出某次提交的 sha1 然后 git 就可以通过sha1 找到这个保存这个提交所在的文件，然后这个文件里有其所有包含文件的 sha1 ，然后就可以找到所有文件。
分支的名称其实就是某次提交 sha1 的一个别名而已（见./git/refs/heads）

- 如果提交 a 和提交 b 都包含同一个文件file，那么，file 以及其信息放在一个文件里，然后 a 和 b 里面其实仅仅保存了这个文件的 sha1

- 在 git 里面，如果仅仅改变一个文件的文件名(包括改变目录)，那么 git add ; git status 是可以看到 git 是可以检测到这个重命名的。 因为他们的 sha1 是相同的。



